(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{145:function(e,t,n){"use strict";n.r(t);var o;n(79);window.nCompUtils=window.nCompUtils||{};var c={css:{main:"c-productpanel",productGrid:"c-productpanel__grid",productUniversalSwitch:"c-productpanel--universal-switch",entSelected:"c-productpanel__ent--selected",entHidden:"c-productpanel__ent--hidden",slider:"glide",radioGroup:"__toggle__rgroup",product:"c-productpanel__grid__product",msrp:"c-productpanel__msrp",saleprice:"c-productpanel__price__sale",toggleEnt:"c-productpanel__toggle__radio",secondaryCtaCont:"c-productpanel__secondary-cta-cont",deviceCount:"c-productpanel__device-count",gridProdTop:"c-productpanel__grid__product__top"},dom:{elemMain:function(){return document.querySelectorAll(".".concat(c.css.main))},elemProductGrid:function(e){return e.querySelector(".".concat(c.css.productGrid))},elemProductCount:function(e){return e.childElementCount},elemAllToggle:function(e){return e.querySelectorAll(".".concat(c.css.main,"__toggle__radio"))},elemAllBulletCount:function(e){return e.querySelectorAll(".".concat(c.css.main,"__grid .").concat(c.css.main,"__grid__product")).length},elemBulletWrapper:function(e){return e.querySelector(".".concat(c.css.main," .glide__bullets"))},elemProductFeature:function(){return document.querySelector(".".concat(c.css.main,"__grid__features"))},elemRadioGroups:function(){return document.querySelectorAll(".".concat(c.css.main).concat(c.css.radioGroup))},elemProductMEP:function(){return document.querySelectorAll(".".concat(c.css.product,".c-productpanel__display-mep"))},elemProductColumns:function(){return document.querySelectorAll(".".concat(c.css.product))}},toEqualizeHeights:[".c-productpanel__grid__ptitle__product",".c-productpanel__grid__ptitle__tier",".c-productpanel__grid__ptoggle",".c-productpanel__grid__pmsrp",".c-productpanel__grid__pprice",".c-productpanel__grid__entnote",".c-productpanel__grid__entnote__bottom",".c-productpanel__grid__product__bottom__title","c-productpanel__grid__pcta","c-productpanel__grid__features","c-productpanel__grid__product__bottom"],init:function(){performance.mark("product panel JS start");try{var e=document.querySelectorAll('[role="tablist"]'),t=document.querySelectorAll(".tabs");if(e.length>0)e.forEach((function(e,n){if(void 0!==t[n]&&t[n].querySelector(".".concat(c.css.main))&&e.querySelectorAll(".cmp-tabs__tab").length>0){var o=t[n].querySelectorAll(".".concat(c.css.main)),a=t[n].querySelectorAll(".".concat(c.css.productGrid));o.forEach((function(e,t){var l=a[t],r=e.querySelector(".".concat(c.css.productGrid)).childElementCount,i=window.nUtil.css.isMobile()&&c.hasMultipleCard(r)||window.nUtil.css.isTablet()&&r>=3;i&&(o.length>1?c.addSliders(e,l,t,n):c.addSlider(e,l)),c.toggle(e,l),window.nCompUtils.dynamicPricing.dynamicPricingGlobal.isDoneProcessing((function(){c.applyMonthlyEffectivePricing(),c.analytics.updateInids(),!i&&c.hasMultipleCard(r)&&c.equalizeInternalHeights(c.toEqualizeHeights)}))}))}}));else document.querySelectorAll(".productpanel").forEach((function(e,t){if(e.querySelector(".".concat(c.css.main))){var n=e.querySelector(".".concat(c.css.main)),o=c.dom.elemProductGrid(n),a=c.dom.elemProductCount(o),l=window.nUtil.css.isTablet(),r=window.nUtil.css.isMobile()&&c.hasMultipleCard(a)||window.nUtil.css.isTablet()&&a>=3;r?(c.addSlider(n,o),c.scrollBehaviorY(o,t),l&&c.equalizeInternalHeights(c.toEqualizeHeights)):c.hasMultipleCard(a)&&c.equalizeInternalHeights(c.toEqualizeHeights),c.toggle(n,o),window.nCompUtils.dynamicPricing.dynamicPricingGlobal.isDoneProcessing((function(){c.applyMonthlyEffectivePricing(),c.analytics.updateInids(),!r&&c.hasMultipleCard(a)&&c.equalizeInternalHeights(c.toEqualizeHeights)}))}}))}catch(e){console.log("productpanel: init() ::"+e)}},applyMonthlyEffectivePricing:function(){window.nortonAnalytics&&("us"===window.nortonAnalytics.site_country.toLowerCase()&&c.dom.elemProductMEP().forEach((function(e){var t=e.querySelector(".".concat(c.css.toggleEnt)).dataset.entTitle;if("annual"===t.toLowerCase()||"1 year"===t.toLowerCase()||"yearly"===t.toLowerCase()){var n=e.querySelector(".".concat(c.css.msrp)),o=e.querySelector(".".concat(c.css.saleprice));c.calculateMep(n),c.calculateMep(o)}})));window.nUtil.css.equalizeHeights(".".concat(c.css.deviceCount)),window.nUtil.css.equalizeHeights(".".concat(c.css.secondaryCtaCont))},calculateMep:function(e){var t=e.textContent;e.textContent=t.replace(t.match(/[0-9,\.]+/),(t.match(/[0-9,\.]+/)/12).toFixed(2))},equalizeInternalHeights:function(e){e.forEach((function(e){window.nUtil.css.equalizeHeights(e,".c-productpanel")}))},scrollBehaviorY:function(e,t){try{window.addEventListener("scroll",(function(){return c.scrollBehaviorEventListener(e,t)}))}catch(e){console.log("productpanel: scrollBehaviorY() ::"+e)}},scrollBehaviorEventListener:function(e,t){var n=0,o=window.scrollY;if(o>n+1||o<n-1){var a=e.getBoundingClientRect(),l=a.top>0,r=e.querySelector(".c-productpanel__grid__features").getBoundingClientRect();c.positionHorizontalScrollArrows(a,l,r,t),n=o}},positionHorizontalScrollArrows:function(e,t,n,o){try{var c=document.querySelectorAll(".c-productpanel-controls")[o];t?c.style.top="".concat(180,"px"):n.top>50&&(c.style.top=180+Math.abs(e.top)+"px")}catch(e){console.log("productpanel: positionHorizontalScrollArrows() ::"+e)}},toggle:function(e,t){try{var n=e,o=c.dom.elemAllToggle(n),a=t.childElementCount,l=Array.from({length:a},(function(e,t){return t+1})),r=[],i=!0;o.length&&o.forEach((function(e,t){e.addEventListener("click",(function(e){var t=e.target.dataset.ent,o=e.target.dataset.product;n.classList.contains(c.css.productUniversalSwitch)||(a=1,i=!1);for(var d=function(a){o!==l[a]&&i&&(o=l[a]),r[o]={};var d=n.querySelectorAll('.c-productpanel__toggle__radio[data-product="'.concat(o,'"][data-ent="').concat(t,'"]')),s=void 0,u=void 0;d.forEach((function(t){var n=t.parentElement.querySelectorAll("input");Array.from(n).forEach((function(e,n){e!==t?u=n:s=n})),n.length>1?(n[u].setAttribute("aria-checked",!1),n[u].setAttribute("tabindex","-1"),n[u].removeAttribute("checked"),n[u].checked=!1,n[s].setAttribute("aria-checked",!0),n[s].setAttribute("tabindex","0"),n[s].setAttribute("checked","true"),n[s].checked=!0,e.target.focus(),r[o].canToggle=!0):r[o].canToggle=!1})),n.querySelectorAll('.c-productpanel__togglable.c-productpanel__ent--selected[data-product="'.concat(o,'"]')).forEach((function(e){var t=e.dataset.product;!0===r[t].canToggle&&(e.classList.remove(c.css.entSelected),e.classList.add(c.css.entHidden))})),n.querySelectorAll('.c-productpanel__togglable[data-product="'.concat(o,'"][data-ent="').concat(t,'"]')).forEach((function(e){e.classList.add(c.css.entSelected),e.classList.remove(c.css.entHidden)}));var p=e.target.value,m=n.querySelector('.c-productpanel__grid__product [data-product="'.concat(o,'"][data-ent="').concat(t,'"] [data-link-type="buy-now"]'));setTimeout((function(){m&&c.analytics.addEntitlementToInid(p,o,t,m)}),200)},s=0;s<a;s++)d(s);c.equalizeInternalHeights(c.toEqualizeHeights)})),window.nUtil.ua.isFirefox()&&e.hasAttribute("aria-checked")&&"true"===e.getAttribute("aria-checked")&&(e.click(),document.activeElement.blur(),document.body.scrollTop=document.documentElement.scrollTop=0)}))}catch(e){console.log("prodpanel: toggle: "+e)}},analytics:{data:{pageName:(null===(o=window.nortonAnalytics)||void 0===o?void 0:o.page_name)||""},inidLoop:function(e,t){try{var n=new Promise((function(n){document.querySelectorAll(e).forEach((function(e){c.analytics.applyInid(e,t)})),n("Inid loop resolved")}));n.then((function(e){c.analytics.data.loopsFinished=!0})),n.then((function(e){"buylink"===t&&document.querySelectorAll(".c-productpanel__grid .c-productpanel__toggle__radio-label").forEach((function(e){var t=document.getElementById("".concat(e.htmlFor));if("true"===t.ariaChecked){var n=t.dataset.product,o=t.dataset.ent,a=e.dataset.entValue;document.querySelectorAll('.c-productpanel [data-product="'.concat(n,'"][data-ent="').concat(o,'"] [data-link-type="buy-now"]')).forEach((function(e){c.analytics.addEntitlementToInid(a,n,o,e)}))}}))}))}catch(e){console.log("prodpanel: inidLoop() ::"+e)}},applyInid:function(e,t){try{var n,o=window.nUtil.url.newUrlObject(e.href);if("buylink"===t){var a=window.nUtil.url.getPageString(e.dataset.productName);n="nortoncom-".concat(c.analytics.data.pageName,"_store_").concat(a,"_prodpanel")}else if("productName"===t){var l=window.nCompUtils.globalInid.getDestinationPageName(e.href);n="nortoncom-".concat(c.analytics.data.pageName,"_prodpanel_").concat(l)}return o.searchParams.set("inid",n.toLowerCase()),e.dataset.inid=n.toLowerCase(),e.dataset.hrefInid=decodeURIComponent(o.toString()),window.nCompUtils.globalInid.setupLink(e),!0}catch(e){console.log("prodpanel: error in applyinid: "+e)}},updateInids:function(){c.analytics.inidLoop('.c-productpanel [data-link-type="buy-now"]',"buylink"),c.analytics.inidLoop(".c-productpanel__grid__ptitle","productName"),performance.mark("product panel JS end"),performance.measure("product panel timings","product panel JS start","product panel JS end")},addEntitlementToInid:function(e,t,n,o){try{var c=window.nUtil.url.readParameter("inid",o.href);if(c){var a="monthly"===e.toLowerCase()&&!c.endsWith("-monthly"),l="monthly"!==e.toLowerCase()&&c.endsWith("-monthly"),r=c;if(a)r="".concat(c,"-monthly");else if(l){r.replace(/-monthly$/,"")}var i=window.nUtil.url.newUrlObject(o.href);i&&(i.searchParams.set("inid",r),o.href=window.nUtil.url.decodeURLParams(i.href))}}catch(e){console.log("prodpanel: error on addEntitlementToInid: "+e)}}},createSlider:function(e,t,n){try{var o=window.nCompUtils.glide.Breakpoints,a=window.nCompUtils.glide.Keyboard,l=window.nCompUtils.glide.Swipe,r=window.nCompUtils.glide.Controls,i=[t],d=c.dom.elemProductCount(n),s=1.2;i&&(d>=3&&(s=2.2),i.forEach((function(t){var n=new window.nCompUtils.glide.Glide(t,{type:"slider",perView:1.2,rewind:!1,keyboard:!1,swipeThreshold:!1,dragThreshold:!1,breakpoints:{400:{perView:1.2,keyboard:!0,swipeThreshold:!0,dragThreshold:!0,rewind:!1},600:{perView:1.15,keyboard:!0,swipeThreshold:!0,dragThreshold:!0,rewind:!1},768:{perView:1.1,keyboard:!0,swipeThreshold:!0,dragThreshold:!0,rewind:!1},1011:{perView:s,keyboard:!0,swipeThreshold:!0,dragThreshold:!0,rewind:!1}}}).mount({breakpoints:o,keyboard:a,swipe:l,controls:r});if(e>=0){var c=document.querySelector('[role="tablist"]');if(void 0!==c)c.querySelectorAll(".cmp-tabs__tab").forEach((function(t,o){t.addEventListener("click",(function(t){o!==e&&n.go("=0")}))}))}})))}catch(e){console.log("prodpanel: createSlider() ::"+e)}},addSlider:function(e,t){try{var n=e,o=t,a=document.createElement("div"),l=document.createElement("div"),r=document.createElement("div"),i=document.createElement("button"),d=document.createElement("button"),s=document.createElement("div");a.classList.add("glide"),l.classList.add("glide__track"),l.dataset.glideEl="track",r.dataset.glideEl="controls",r.classList.add(c.css.main+"-controls"),s.classList.add("glide__bullets"),s.dataset.glideEl="controls[nav]",i.dataset.glideDir="<",i.classList.add(c.css.main+"-prev-control"),d.dataset.glideDir=">",d.classList.add(c.css.main+"-next-control"),n.replaceChild(a,o),a.appendChild(o),a.replaceChild(l,o),l.appendChild(o),l.appendChild(r),r.appendChild(i),r.appendChild(d),l.appendChild(s),c.generateBullets(n),c.createSlider(-1,a,o)}catch(e){console.log("prodpanel: addSlider ::"+e)}},addSliders:function(e,t,n,o){try{var a=e,l=t,r=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),s=document.createElement("button"),u=document.createElement("button"),p=document.createElement("div");r.classList.add("glide"),i.classList.add("glide__track"),i.dataset.glideEl="track",d.dataset.glideEl="controls",d.classList.add(c.css.main+"-controls"),p.classList.add("glide__bullets"),p.dataset.glideEl="controls[nav]",s.dataset.glideDir="<",s.classList.add(c.css.main+"-prev-control"),u.dataset.glideDir=">",u.classList.add(c.css.main+"-next-control"),a.replaceChild(r,l),r.appendChild(l),r.replaceChild(i,l),i.appendChild(l),i.appendChild(d),d.appendChild(s),d.appendChild(u),i.appendChild(p),c.generateBulletsMultipleSliders(l.childElementCount,n,o),c.createSlider(n,r,l)}catch(e){console.log("prodpanel: addSliders ::"+e)}},generateBullets:function(e){for(var t=c.dom.elemAllBulletCount(e),n=c.dom.elemBulletWrapper(e),o=0;o<t;o++){var a=document.createElement("button");a.className="glide__bullet",a.setAttribute("data-glide-dir","="+o),n.appendChild(a)}},generateBulletsMultipleSliders:function(e,t,n){for(var o=document.querySelectorAll(".cmp-tabs")[n].querySelectorAll(".".concat(c.css.main," .glide__bullets")),a=0;a<e;a++){var l=document.createElement("button");l.className="glide__bullet",l.setAttribute("data-glide-dir","="+a),o[t].appendChild(l)}o[t].firstChild.classList.contains("glide__bullet--active")||o[t].firstChild.classList.add("glide__bullet--active")},hasMultipleCard:function(e){return e>=2}};document.addEventListener("DOMContentLoaded",(function(){c.init()})),window.addEventListener("pageshow",(function(e){c.dom.elemMain()&&(c.dom.elemRadioGroups().forEach((function(e){var t=e.querySelectorAll("input");if(t.length>1){var n=e.dataset.hasOwnProperty("selectedIndex")?parseInt(e.dataset.selectedIndex):0;t.forEach((function(e,t){t===n?(e.checked=!0,e.ariaChecked="true",e.tabIndex=0):(e.checked=!1,e.ariaChecked="false",e.tabIndex=-1)}))}})),c.dom.elemProductColumns().forEach((function(e){var t=e.querySelectorAll(".c-productpanel__togglable");if(t.length>3){var n=e.querySelector(".".concat(c.css.gridProdTop)).dataset.hasOwnProperty("selectedIndex")?parseInt(e.querySelector(".".concat(c.css.gridProdTop)).dataset.selectedIndex):0;t.forEach((function(e,t){parseInt(e.dataset.ent)-1===n?(e.classList.add("c-productpanel__ent--selected"),e.classList.remove("c-productpanel__ent--hidden")):(e.classList.add("c-productpanel__ent--hidden"),e.classList.remove("c-productpanel__ent--selected"))}))}}))),window.onunload=function(){}}))},79:function(e,t,n){}},[[145,0]]]);